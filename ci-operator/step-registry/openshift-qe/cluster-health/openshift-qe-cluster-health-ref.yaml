ref:
  as: openshift-qe-cluster-health
  from_image:
    namespace: ci
    name: telco-bastion
    tag: latest
  cli: latest
  commands: openshift-qe-cluster-health-commands.sh
  credentials:
    - namespace: test-credentials # this entry injects the custom credential
      name: perfscale-metal-bastion
      mount_path: /secret
  env:
  - name: MINIMUM_STABLE_PERIOD
    default: "2m"
    documentation: |-
      Minimum duration to consider a cluster stable
  - name: TIMEOUT
    default: "5m"
    documentation: |-
      Duration before the command times out
  - name: LAB
    default: "scalelab"
    documentation: |-
      Lab where the hardware is located. Either performancelab or scalelab.
  - name: LAB_CLOUD
    default: "cloud126"
    documentation: |-
      Lab allocation
  - name: TYPE
    default: "mno"
    documentation: |-
      mno, sno
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
  documentation: >-
    This chain uses oc adm wait-for-stable-cluster to run a cluster-health check
